<!DOCTYPE html>
{% extends 'dbsnp_app/template.html' %} <!-- template inheritance -->

{% block title %}
Homepage
{% endblock %}

{% if messages %}
    {% for message in messages %}
        <div class="alert {{message.tags}}">
            <strong>{{ message }}</strong> 
        </div>
    {% endfor %}
{% endif %} 

{% block content %}
<h1>Database of single nucleotide variants (GRCh38)</h1>

<form action="{% url 'results' %}" method="get">
	<input name="chr" type="text" placeholder="chr"><br>
	<input name="start" type="text" placeholder="start"><br>
	<input name="end" type="text" placeholder="end"><br>

	<button type="submit" class="save btn btn-default">Submit</button>
</form>

<label for="chromosomes">Choose a chromosome:</label>
<form action="{% url 'home' %}" method="get">
	<select name="chromosomes" id="chromosomes">
		<option selected="selected" disabled>Select chromosome:</option>
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			<option value="7">7</option>
			<option value="8">8</option>
			<option value="9">9</option>
			<option value="10">10</option>
			<option value="11">11</option>
			<option value="12">12</option>
			<option value="13">13</option>
			<option value="14">14</option>
			<option value="15">15</option>
			<option value="16">16</option>
			<option value="17">17</option>
			<option value="18">18</option>
			<option value="19">19</option>
			<option value="20">20</option>
			<option value="21">21</option>
			<option value="22">22</option>
			<option value="X">X</option>
			<option value="Y">Y</option>
	</select>
	<select name="clinSig" id="clinSig">
		<option selected="selected" disabled>Select clinical significance:</option>
			<option value="pathogenic">pathogenic</option>
			<option value="likely pathogenic">likely pathogenic</option>
			<option value="uncertain significance">uncertain significance</option>
			<option value="likely benign">likely benign</option>
			<option value="benign">benign</option>
			<option value="risk factor">risk factor</option>
			<option value="not provided">not provided</option>
	</select>
	<select name="MAF" id="MAF">
		<option selected="selected" disabled>Select MAF range:</option>
			<option value="0.00-0.25">0.00-0.25</option>
			<option value="0.25-0.75">0.25-0.75</option>
			<option value="0.75-1.00">0.75-1.00</option>
	</select>
	<select name="varClass" id="varClass">
		<option selected="selected" disabled>Select variant class:</option>
			<option value="SNP">SNP</option>
			<option value="deletion">deletion</option>
			<option value="insertion">insertion</option>
	</select>
	<select name="conseq" id="conseq">
		<option selected="selected" disabled>Select consequence:</option>
			<option value="intron_variant">intron_variant</option>
			<option value="exon_variant">exon_variant</option>
			<option value="*">*</option>
	</select>
	<button type="submit" class="save btn btn-default">Search</button>
</form>

{% endblock %}

{% block table %}
<table style="width:98%" class="table table-striped table-sm table-responsive">
<thead class="thead-inverse">
	<tr> <!--define header-->
		<th >Variant ID</th>
		<!-- <th >Reference genome</th> -->
		<th >Chr</th>
		<th >Start</th>
		<th >End</th>
		<th >Reference allele</th>
		<th >Alternative allele</th>
		<th >Minor allele frequency</th>
		<th >Variant class</th>
		<th >External links</th>
	</tr>
</thead>
<tbody>
	{% for variant in variants %} <!-- create a new row for each variant submitted  -->
	<tr> 	<!--'variants' is the key in the content dictionary provided in the views.py -->
		<td><a href="https://www.ncbi.nlm.nih.gov/snp/{{variant.dbSNP_ID}}">{{ variant.dbSNP_ID }}</a></td>
		<!-- <td>{{ variant.refGen }}</td> -->
		<td>{{ variant.chr }}</td>
		<td>{{ variant.start }}</td>
		<td>{{ variant.end }}</td>
		<td>{{ variant.ref }}</td>
		<td>{{ variant.alt }}</td>
		<td>{{ variant.MAF }}</td>
		<td>{{ variant.var_class }}</td>
		<td><a href="https://genome-euro.ucsc.edu/cgi-bin/hgTracks?db=hg38&lastVirtModeType=default&lastVirtModeExtraState=&virtModeType=default&virtMode=0&nonVirtPosition=&position=chr{{variant.chr}}%3A{{variant.start}}-{{variant.end}}">UCSC</a> , <a href="https://gnomad.broadinstitute.org/variant/{{ variant.chr }}-{{ variant.start }}-{{variant.ref}}-{{variant.alt}}?dataset=gnomad_r3">gnomAD</a></td>
	</tr>
	{% endfor %}  <!-- always have to close for loops in HTML -->
</tbody>
</table>
{% endblock %}

{% block home-button %}
{% endblock %}
